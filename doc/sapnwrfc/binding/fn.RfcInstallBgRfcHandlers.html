<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `RfcInstallBgRfcHandlers` fn in crate `sapnwrfc`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, RfcInstallBgRfcHandlers">

    <title>sapnwrfc::binding::RfcInstallBgRfcHandlers - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc fn">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>sapnwrfc</a>::<wbr><a href='index.html'>binding</a></p><script>window.sidebarCurrent = {name: 'RfcInstallBgRfcHandlers', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Function <a href='../index.html'>sapnwrfc</a>::<wbr><a href='index.html'>binding</a>::<wbr><a class="fn" href=''>RfcInstallBgRfcHandlers</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/sapnwrfc/binding.rs.html#2643-2649' title='goto source code'>[src]</a></span></h1>
<pre class='rust fn'>pub unsafe extern &quot;C&quot; fn RfcInstallBgRfcHandlers(<br>&nbsp;&nbsp;&nbsp;&nbsp;sysId: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*const </a><a class="type" href="../../sapnwrfc/binding/type.SAP_UC.html" title="type sapnwrfc::binding::SAP_UC">SAP_UC</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;onCheckFunction: <a class="type" href="../../sapnwrfc/binding/type.RFC_ON_CHECK_UNIT.html" title="type sapnwrfc::binding::RFC_ON_CHECK_UNIT">RFC_ON_CHECK_UNIT</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;onCommitFunction: <a class="type" href="../../sapnwrfc/binding/type.RFC_ON_COMMIT_UNIT.html" title="type sapnwrfc::binding::RFC_ON_COMMIT_UNIT">RFC_ON_COMMIT_UNIT</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;onRollbackFunction: <a class="type" href="../../sapnwrfc/binding/type.RFC_ON_ROLLBACK_UNIT.html" title="type sapnwrfc::binding::RFC_ON_ROLLBACK_UNIT">RFC_ON_ROLLBACK_UNIT</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;onConfirmFunction: <a class="type" href="../../sapnwrfc/binding/type.RFC_ON_CONFIRM_UNIT.html" title="type sapnwrfc::binding::RFC_ON_CONFIRM_UNIT">RFC_ON_CONFIRM_UNIT</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;onGetStateFunction: <a class="type" href="../../sapnwrfc/binding/type.RFC_ON_GET_UNIT_STATE.html" title="type sapnwrfc::binding::RFC_ON_GET_UNIT_STATE">RFC_ON_GET_UNIT_STATE</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;errorInfo: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="type" href="../../sapnwrfc/binding/type.RFC_ERROR_INFO.html" title="type sapnwrfc::binding::RFC_ERROR_INFO">RFC_ERROR_INFO</a><br>) -&gt; <a class="enum" href="../../sapnwrfc/binding/enum._RFC_RC.html" title="enum sapnwrfc::binding::_RFC_RC">RFC_RC</a></pre><div class='docblock'><p>Installs the necessary callback functions for processing incoming bgRFC calls.</p>

<p>These functions need to be implemented by you and will be used by the RFC runtime in the following way:
-# The RFC_ON_CHECK_UNIT function is called when a local background unit is starting. Since a background
RFC call can be issued many times by the client system, the function is responsible for storing the unit ID
and type in permanent storage. The return value should be one of the following:
- RFC_OK\n      Unit ID stored, LUW can be started.
- RFC_EXECUTED\n    This LUW has already been processed successfully in an earlier attempt. Skip the execution now.
- RFC_EXTERNAL_FAILURE\n Currently unable to access my permanent storage. Raise an exception in the sending system, so
that the sending system will try to resend the unit at a later time.
-# The next step will be the execution of the RFC_SERVER_FUNCTIONs for all function modules contained in the LUW.
-# If one of the RFC_SERVER_FUNCTION implementations returns an error code, RFC_ON_ROLLBACK_UNIT is called.
Here you should roll back all the work of all the previous RFC_SERVER_FUNCTIONs. (The easiest way is to do
a database ROLLBACK WORK here.)\n
If all RFC_SERVER_FUNCTIONs complete successfully, RFC_ON_COMMIT_UNIT is called at the end.
Persist all the changes here (e.g. do a COMMIT WORK).\n
Note: Normally you&#39;ll only have &quot;one-function-module LUWs&quot;, e.g. IDocs. In this case the RFC_SERVER_FUNCTION
can already commit/rollback its own work, before returning RFC_OK or an error code. So the two functions
RFC_ON_ROLLBACK_UNIT and RFC_ON_COMMIT_UNIT can be empty in this case.
-# In the end RFC_ON_CONFIRM_UNIT will be called. All information stored about that LUW can now be
discarded by the server, as it no longer needs to protect itself against duplicates.
In general this function can be used to delete the unit ID from permanent storage.
-# At various points in the processing of a background unit, the backend system may or may not inquire
the status of the currently (or previously) processed unit by calling RFC_ON_GET_UNIT_STATE. Your implementation
of this function should check your permanent storage for status information about the given unit ID and
fill the RFC_UNIT_STATE* accordingly.</p>

<p>If you pass NULL as &quot;sysId&quot;, the transaction handlers will be used for bgRFC calls from any backend system,
for which no explicit handlers have been installed.</p>

<p>\in *sysId System ID of the SAP system for which to use this set of transaction handlers, or NULL.
\in onCheckFunction Pointer to a function of type RFC_ON_CHECK_UNIT.
\in onCommitFunction Pointer to a function of type RFC_ON_COMMIT_UNIT.
\in onRollbackFunction Pointer to a function of type RFC_ON_ROLLBACK_UNIT.
\in onConfirmFunction Pointer to a function of type RFC_ON_CONFIRM_UNIT.
\in onGetStateFunction Pointer to a function of type RFC_ON_GET_UNIT_STATE.
\out *errorInfo Additional information, in case the handlers could not be installed.
\return RFC_RC</p>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "sapnwrfc";
    </script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>